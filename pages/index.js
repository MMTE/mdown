import Head from 'next/head'
import {useState} from 'react';
import Navbar from '/components/navbar'

export default function Home() {

    const [markdown, setMarkdown] = useState('');

    return (
        <>
            <Head>
                <title>Mdown</title>
                <meta name="description" content="Generated by create next app"/>
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
                <link rel="icon" href="/favicon.ico"/>
            </Head>
            <main>

                <Navbar></Navbar>
                <div className="pb-12">
                    <section className="pb-10">
                        <div className="max-w-7xl mx-auto sm:px-6 lg:px-8">
                            <div className='px-10 mt-10'>
                                <h2 className='font-bold text-2xl'>به مارک داون خوش آمدید</h2>
                                <div className='mt-10 bg-yellow-100 py-4 px-6'>
                                    <p><b>ام داون</b> یک ویرایشگر مارک‌داون است. مارک داون یک استاندارد نوشتاری است که
                                        علامت‌هایی را به صورت نماد مشخص کرده است تا تنها با استفاده از
                                        آن نماد‌ها بتوانید منظور نوشتاری خود را برسانید و تنها بر روی نوشتار خود تمرکز کنید
                                        و از جابجایی‌های زیاد یا بی‌فایده پرهیز کنید. توسط یک مبدل نوشته‌های شما شما به ساختار رایج همراه با ویژگی‌های گرافیکی تدبیل خواهد شد. همچنین ام‌داون قابلیت اتصال مستقیم به گیت‌هاب و کامیت تغییرات در مخازن شما را دارد.</p>
                                </div>
                                <div className='prose-base prose-a:underline prose-a:text-blue-700 mt-10 py-4 px-6'>
                                    <h3 className='text-3xl font-bold '>
                                        چالش:
                                    </h3>
                                    <p>استاندارد مارک‌داون به صورت پیشفرض هماهنگی خیلی زیادی با زبان‌های نوشتاری راست به
                                        چپ یا همان RTL ندارد. لذا نوشتن به صورت مارک داون برای فارسی زبانان کمی دشوار
                                        است.</p>
                                    <p>اگر در اینترنت برای عبارت markdown RTL جستجو کنید نتایج مرتبطی خواهید یافت اما
                                        محصولات با کیفیت زیادی برای این منظور وجود ندارند.</p>
                                    <p>یکی از کامل‌ترین و بهترین ویراستار‌های مارک‌داون به صورت راست به چپ، ویراستار <a
                                        href='https://app.dawin.io/'>داوین</a> است .
                                        تنها ایراد این ویراستار این است که زبان اصلی آن عربی است اما بازهم قابل فهم است و می‌توانید به عنوان یک ویراستار مارک‌داون راست به چپ عالی از آن
                                        استفاده کنید.</p>
                                    <p>همین‌طور ابزار <a href='https://www.roshan-ai.ir/moratab/'>مرتب</a> که ابزاری
                                        ایرانی است هم بسیار با ظرافت و زیبا است.</p>
                                    <h3 className='text-3xl font-bold '>
                                        مزیت Mdown.ir:
                                    </h3>
                                    <p>من ام‌داون را بر اساس نیاز و دغدغه‌ی خودم ایجاد کردم و آن نوشتن یا اصلاح فایل‌های
                                        مارک‌داون بر روی گیت‌هاب بود. برای وبسایت شخصی خودم قصد داشتم با استفاده از
                                        jekyll یک وبسایت استاتیک برای بلاگ خودم داشته باشم. اما دیدم نوشتن به صورت
                                        مارک‌داون در گیت‌هاب کار سختی است و مقداری هم کند است. لذا برای ام‌داون قابلیت
                                        اتصال به گیت‌هاب را قرار دادم.</p>
                                    <p>اتصال ام‌داون به گیت‌هاب توسط ربات MdownBot انجام می‌شود. شما این برنامه (app)
                                        گیت‌هابی را بر روی مخازن انتخابی خود نصب می‌کنید و ام‌داون می‌تواند به ریپو‌های
                                        شما دسترسی پیدا کند. بدین ترتیب از طریق گزینه اتصال به گیت‌هاب در منوی بالای
                                        صفحه می‌توانید ریپو‌های خود را انتخاب و فایل‌ها و فولدر ها را مشاهده کنید. با
                                        انتخاب فایل مورد نظر خودتان نیز ویراشگر مارک‌داون آن فایل را برای شما باز
                                        می‌کند. سپس شما می‌توانید به راحتی تغییرات خود را انجام دهید و نتیجه را نیز
                                        همانجا مشاهده کنید و سپس از همان صفحه با کلیک بر روی گزینه کامیت، تغییرات را در
                                        ریپوی یا مخزن مورد نظر اعمال کنید.</p>
                                    <h3 className='text-3xl font-bold '>
                                        چالش:
                                    </h3>
                                    <p>استاندارد مارک‌داون به صورت پیشفرض هماهنگی خیلی زیادی با زبان‌های نوشتاری راست به
                                        چپ یا همان RTL ندارد. لذا نوشتن به صورت مارک داون برای فارسی زبانان کمی دشوار
                                        است.</p>
                                    <p>اگر در اینترنت برای عبارت markdown RTL جستجو کنید نتایج مرتبطی خواهید یافت اما
                                        محصولات زیادی برای این کار وجود ندارند.</p>
                                    <p>یکی از کامل‌ترین و بهترین ویراستار‌های مارک‌داون به صورت راست به چپ، ویراستار <a
                                        href='https://app.dawin.io/'>داوین</a> است .
                                        تنها ایراد این ویراستار این است که زبان اصلی آن عربی است اما بازهم کاربرد بسیار
                                        مناسبی دارد و می‌توانید به عنوان یک ویراستار مارک‌داون راست به چپ عالی از آن
                                        استفاده کنید.</p>
                                    <p>همین‌طور ابزار <a href='https://www.roshan-ai.ir/moratab/'>مرتب</a> که ابزاری
                                        ایرانی است هم بسیار با ظرافت و زیبا است.</p>
                                    <h3 className='text-3xl font-bold '>
                                        مشکلات Mdown
                                    </h3>
                                    <div>
                                        <li>قسمت نوشتار متن خام از جنس textarea است و در آن قسمت همه‌ی نوشتار راست به چپ است. بهتر است حالتی باشد که لینک‌ها یا کد‌ها یا عبارت‌هایی که با انگلیسی شروع می‌شوند چپ به راست نوشته شوند.
                                        </li>
                                        <li>تگ مخصوصی جهت LTR باید به موتور(انجین) مارک‌داون این پروژه اضافه  شود تا با استفاده از آن خروجی markdown آن قسمت را در div با حالت ltr قرار دهد تا زمان رندر شدن و استفاده از خروجی در یک وبسایت راست به چپ مشکل راست به چپ شدن آن خروجی به وجود نیاید. البته این حالت بر روی یک سری مواردی که به صورت معمول LTR استفاده می‌شوند مثل تگ‌های pre و code می‌تواند بدون در نظر گرفتن این مورد و تنها با css انجام شود اما به نظر می‌رسد به منظور LTR کردن قسمت خاصی از نوشتار بودن یک قرار داد برای LTR شدن نیاز باشد. این مورد را من در <a href='https://github.com/guytepper/rtl-markdown/'>این ریپو</a> دیدم. </li>
                                        <li>در حال حاضر قابلیت مشاهده‌ی برنچ‌های مختلف وجود ندارد و تنها برنچ اصلی پروژه به صورت اتومات انتخاب می‌شود.</li>
                                        <li>رندری که از مارک‌داون صورت می‌گیرد با css های tailwind نمایش داده می‌شوند که هنوز نسبت به خروجی آن رضایت ندارم.</li>
                                    </div>
                                    <h3 className='text-3xl font-bold '>
                                        طراحی فنی:
                                    </h3>
                                    <p>برای ساخت ام‌داون از Nextjs که بر پایه فریمورک React js است استفاده شده است. همینطور جهت ارتباط با Backend از قابلیت‌ api در next js استفاده شده است که api سرور کوچک و بسیار مینیمالی دارد. </p>
                                    <p>ارتباط با github در oauth توسط next-auth انجام می‌شود و ارتباط با api های github apps توسط کتابخانه‌های js octokit انجام می‌شود.</p>
                                    <p>اطلاعات حساب‌های کاربری در یک دیتابیس mysql ذخیره می‌شود و توسط ORM پریسما (Prisma) اطلاعات دریافت یا اصلاح می‌شوند. این دیتابیس ارتباط مستقیم با اینترنت ندارد و تنها توسط یک شبکه‌ی داکر به reverse proxy ترافیک (traefik) و برنامه next js متصل است.</p>
                                    <p>تبدیلگر مارک‌داون استفاده شده <a href='https://showdownjs.com/'>showdow js</a> است و برای استفاده از آن در react js از <a href='https://github.com/jerolimov/react-showdown'>این ریپو</a> استفاده شده است.</p>
                                    <p>انشالله پروژه را در گیت‌هاب منتشر خواهم کرد.</p>
                                    <h3 className='text-3xl font-bold '>
                                        حریم خصوصی
                                    </h3>
                                    <div>
                                        <p>هیچگونه دسترسی خارج از چهارچوب تعریف شده و بدون اجازه‌ی شما به ریپو‌ها و مخازن انجام نمی‌شود. هیچ کوئری حتی برای تست توسط سایت و ربات mdown بر روی کد‌های شما زده نمی‌شود و در طراحی سایت در نظر گرفته نشده است و تنها اطلاعات از گیت‌هاب دریافت و به کاربر متناظر نمایش داده می‌شود. تنها ایمیل، مشخصات دریافتی از oauth گیت‌هاب در مورد پروفایل و یک installation_id متعلق به برنامه MdownBot از شما در دیتابیس ام‌داون ذخیره می‌شود.</p>
                                    </div>
                                    <h3 className='text-3xl font-bold '>
                                        باگ‌ها، پیشنهادات و امنیت
                                    </h3>
                                    <div>
                                        <p>لطفا هر گونه ایراد، پیشنهاد یا مشکل امنیتی که مشاهده می‌کنید را به work.taleghani بر روی جی‌میل ایمیل کنید. یا به آیدی talegh بر روی تلگرام پیغام دهید. </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>
        </>
    )
}
